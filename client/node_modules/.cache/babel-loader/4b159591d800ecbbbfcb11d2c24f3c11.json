{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ashutosh/Desktop/avalanche-faucet/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/ashutosh/Desktop/avalanche-faucet/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/ashutosh/Desktop/avalanche-faucet/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ashutosh/Desktop/avalanche-faucet/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{ethers}from'ethers';import{ClipLoader}from\"react-spinners\";import Select from'react-select';import'./styles/FaucetForm.css';import ReCaptcha from'./ReCaptcha';import FooterBox from'./FooterBox';import queryString from'query-string';import{connectAccount}from'./Metamask';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FaucetForm=function FaucetForm(props){var _chainConfigs6,_chainConfigs7,_chainConfigs8,_chainConfigs8$RATELI,_chainConfigs9,_chainConfigs9$RATELI,_chainConfigs10,_chainConfigs11,_chainConfigs12;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),chain=_useState2[0],setChain=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),token=_useState4[0],setToken=_useState4[1];var _useState5=useState(new Map()),_useState6=_slicedToArray(_useState5,2),widgetID=_useState6[0],setwidgetID=_useState6[1];var _useState7=useState(undefined),_useState8=_slicedToArray(_useState7,2),recaptcha=_useState8[0],setRecaptcha=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isV2=_useState10[0],setIsV2=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),chainConfigs=_useState12[0],setChainConfigs=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),inputAddress=_useState14[0],setInputAddress=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),address=_useState16[0],setAddress=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),faucetAddress=_useState18[0],setFaucetAddress=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),options=_useState20[0],setOptions=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),tokenOptions=_useState22[0],setTokenOptions=_useState22[1];var _useState23=useState(\"0\"),_useState24=_slicedToArray(_useState23,2),balance=_useState24[0],setBalance=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),shouldAllowSend=_useState26[0],setShouldAllowSend=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),isLoading=_useState28[0],setIsLoading=_useState28[1];var _useState29=useState(null),_useState30=_slicedToArray(_useState29,2),isFetchingBalance=_useState30[0],setIsFetchingBalance=_useState30[1];var _useState31=useState({txHash:null,message:null}),_useState32=_slicedToArray(_useState31,2),sendTokenResponse=_useState32[0],setSendTokenResponse=_useState32[1];// Update chain configs\nuseEffect(function(){setRecaptcha(new ReCaptcha(props.config.SITE_KEY,props.config.ACTION,props.config.V2_SITE_KEY,setwidgetID));updateChainConfigs();connectAccount(updateAddress,false);},[]);// Update balance whenver chain changes or after transaction is processed\nuseEffect(function(){updateBalance();},[chain,token,sendTokenResponse,chainConfigs]);// Make REQUEST button disabled if either address is not valid or balance is low\nuseEffect(function(){if(address){var _chainConfigs,_chainConfigs2;if(BigInt(balance)>calculateBaseUnit((_chainConfigs=chainConfigs[token])===null||_chainConfigs===void 0?void 0:_chainConfigs.DRIP_AMOUNT,(_chainConfigs2=chainConfigs[token])===null||_chainConfigs2===void 0?void 0:_chainConfigs2.DECIMALS)){setShouldAllowSend(true);return;}}setShouldAllowSend(false);},[address,balance]);useEffect(function(){updateFaucetAddress();},[chain,chainConfigs]);useEffect(function(){var _newOptions$;var newOptions=[];chainConfigs===null||chainConfigs===void 0?void 0:chainConfigs.forEach(function(chain,i){var _chainConfigs3;var item=/*#__PURE__*/_jsxs(\"div\",{className:\"select-dropdown\",children:[/*#__PURE__*/_jsx(\"img\",{alt:chain.NAME[0],src:chain.IMAGE}),chain.NAME,chain.CONTRACTADDRESS&&/*#__PURE__*/_jsx(\"span\",{style:{color:'rgb(180, 180, 183)',fontSize:\"10px\",marginLeft:\"5px\"},children:(_chainConfigs3=chainConfigs[chainToIndex(chain.HOSTID)||0])===null||_chainConfigs3===void 0?void 0:_chainConfigs3.NAME})]});if(!chain.CONTRACTADDRESS){newOptions.push({label:item,value:i,search:chain.NAME});}});setOptions(newOptions);setChain((_newOptions$=newOptions[0])===null||_newOptions$===void 0?void 0:_newOptions$.value);},[chainConfigs]);useEffect(function(){var _newOptions$2;var newOptions=[];chainConfigs===null||chainConfigs===void 0?void 0:chainConfigs.forEach(function(chain,i){var _getChainParams=getChainParams(),ch=_getChainParams.chain;var item=/*#__PURE__*/_jsxs(\"div\",{className:\"select-dropdown\",children:[/*#__PURE__*/_jsx(\"img\",{alt:chain.NAME[0],src:chain.IMAGE}),chain.ID==ch?chain.TOKEN:chain.NAME,/*#__PURE__*/_jsx(\"span\",{style:{color:'rgb(180, 180, 183)',fontSize:\"10px\",marginLeft:\"5px\"},children:chain.CONTRACTADDRESS?\"ERC20\":\"Native\"})]});if(chain.CONTRACTADDRESS&&chain.HOSTID==ch||chain.ID==ch){newOptions.push({label:item,value:i,search:chain.NAME});}});setTokenOptions(newOptions);setToken((_newOptions$2=newOptions[0])===null||_newOptions$2===void 0?void 0:_newOptions$2.value);},[chainConfigs,chain]);var getConfigByTokenAndNetwork=function getConfigByTokenAndNetwork(token,network){var selectedConfig=0;try{var _token,_network;token=(_token=token)===null||_token===void 0?void 0:_token.toUpperCase();network=(_network=network)===null||_network===void 0?void 0:_network.toUpperCase();chainConfigs.forEach(function(chain,i){if(chain.TOKEN==token&&chain.HOSTID==network){selectedConfig=i;}});}catch(err){console.log(err);}return selectedConfig;};var totalTokens=(tokenOptions===null||tokenOptions===void 0?void 0:tokenOptions.length)===0;useEffect(function(){var query=queryString.parse(window.location.search);var address=query.address,subnet=query.subnet,erc20=query.erc20;var tokenIndex=getConfigByTokenAndNetwork(erc20,subnet);if(typeof address==\"string\"){updateAddress(address);}if(typeof subnet==\"string\"){setChain(chainToIndex(subnet));if(typeof erc20==\"string\"){setToken(tokenIndex);}}else{setChain(0);}},[window.location.search,options,totalTokens]);// API calls\nfunction updateChainConfigs(){return _updateChainConfigs.apply(this,arguments);}function _updateChainConfigs(){_updateChainConfigs=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _response$data;var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return props.axios.get(props.config.api.getChainConfigs);case 2:response=_context.sent;setChainConfigs(response===null||response===void 0?void 0:(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.configs);case 4:case\"end\":return _context.stop();}}},_callee);}));return _updateChainConfigs.apply(this,arguments);}function getChainParams(){var _chainConfigs4,_chainConfigs5;var params={chain:(_chainConfigs4=chainConfigs[chain])===null||_chainConfigs4===void 0?void 0:_chainConfigs4.ID,erc20:(_chainConfigs5=chainConfigs[token])===null||_chainConfigs5===void 0?void 0:_chainConfigs5.ID};return params;}function updateBalance(){return _updateBalance.apply(this,arguments);}function _updateBalance(){_updateBalance=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var controller,_response$data2,_response$data3,_getChainParams2,_chain,erc20,response,_response$data4;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// Abort pending requests\ncontroller=new AbortController();if(isFetchingBalance){isFetchingBalance.abort();}setIsFetchingBalance(controller);if(!((chain||chain==0)&&chainConfigs.length>0)){_context2.next=9;break;}_getChainParams2=getChainParams(),_chain=_getChainParams2.chain,erc20=_getChainParams2.erc20;_context2.next=7;return props.axios.get(props.config.api.getBalance,{params:{chain:_chain,erc20:erc20},signal:controller.signal});case 7:response=_context2.sent;if(response!==null&&response!==void 0&&(_response$data2=response.data)!==null&&_response$data2!==void 0&&_response$data2.balance||(response===null||response===void 0?void 0:(_response$data3=response.data)===null||_response$data3===void 0?void 0:_response$data3.balance)==0){setBalance(response===null||response===void 0?void 0:(_response$data4=response.data)===null||_response$data4===void 0?void 0:_response$data4.balance);}case 9:case\"end\":return _context2.stop();}}},_callee2);}));return _updateBalance.apply(this,arguments);}function updateFaucetAddress(){return _updateFaucetAddress.apply(this,arguments);}function _updateFaucetAddress(){_updateFaucetAddress=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var _getChainParams3,_chain2,response,_response$data5;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!((chain||chain==0)&&chainConfigs.length>0)){_context3.next=6;break;}_getChainParams3=getChainParams(),_chain2=_getChainParams3.chain;_context3.next=4;return props.axios.get(props.config.api.faucetAddress,{params:{chain:_chain2}});case 4:response=_context3.sent;if(response!==null&&response!==void 0&&response.data){setFaucetAddress(response===null||response===void 0?void 0:(_response$data5=response.data)===null||_response$data5===void 0?void 0:_response$data5.address);}case 6:case\"end\":return _context3.stop();}}},_callee3);}));return _updateFaucetAddress.apply(this,arguments);}function calculateBaseUnit(){var amount=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"0\";var decimals=arguments.length>1&&arguments[1]!==undefined?arguments[1]:18;for(var i=0;i<decimals;i++){amount+=\"0\";}return BigInt(amount);}function calculateLargestUnit(){var amount=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"0\";var decimals=arguments.length>1&&arguments[1]!==undefined?arguments[1]:18;var base=\"1\";for(var i=0;i<decimals;i++){base+=\"0\";}return(BigInt(amount)/BigInt(base)).toString();}function chainToIndex(id){if((chainConfigs===null||chainConfigs===void 0?void 0:chainConfigs.length)>0){if(typeof id==\"string\"){id=id.toUpperCase();}var index=0;chainConfigs.forEach(function(chain,i){if(id==chain.ID){index=i;}});return index;}else{return null;}}function updateAddress(addr){setInputAddress(addr);if(addr){if(ethers.utils.isAddress(addr)){setAddress(addr);}else{setAddress(null);}}else if(address!=null){setAddress(null);}}function getCaptchaToken(){return _getCaptchaToken.apply(this,arguments);}function _getCaptchaToken(){_getCaptchaToken=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var index,_yield$getToken,token,v2Token,_args4=arguments;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:index=_args4.length>0&&_args4[0]!==undefined?_args4[0]:0;_context4.next=3;return recaptcha.getToken(isV2,widgetID,index);case 3:_yield$getToken=_context4.sent;token=_yield$getToken.token;v2Token=_yield$getToken.v2Token;return _context4.abrupt(\"return\",{token:token,v2Token:v2Token});case 7:case\"end\":return _context4.stop();}}},_callee4);}));return _getCaptchaToken.apply(this,arguments);}function updateChain(option){var chainNum=option.value;if(chainNum>=0&&chainNum<chainConfigs.length){setChain(chainNum);back();}}function updateToken(option){var tokenNum=option.value;if(tokenNum>=0&&tokenNum<chainConfigs.length){setToken(tokenNum);back();}}var ifCaptchaFailed=function ifCaptchaFailed(data){var index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var reload=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(typeof(data===null||data===void 0?void 0:data.message)==\"string\"){if(data.message.includes(\"Captcha verification failed\")){setIsV2(true);recaptcha===null||recaptcha===void 0?void 0:recaptcha.loadV2Captcha(props.config.V2_SITE_KEY,widgetID,index,reload);}}};function sendToken(){return _sendToken.apply(this,arguments);}function _sendToken(){_sendToken=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var _data,_data2;var data,_yield$getCaptchaToke,_token2,v2Token,_getChainParams4,_chain3,erc20,response,_err$response;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(shouldAllowSend){_context5.next=2;break;}return _context5.abrupt(\"return\");case 2:_context5.prev=2;setIsLoading(true);_context5.next=6;return getCaptchaToken();case 6:_yield$getCaptchaToke=_context5.sent;_token2=_yield$getCaptchaToke.token;v2Token=_yield$getCaptchaToke.v2Token;_getChainParams4=getChainParams(),_chain3=_getChainParams4.chain,erc20=_getChainParams4.erc20;_context5.next=12;return props.axios.post(props.config.api.sendToken,{address:address,token:_token2,v2Token:v2Token,chain:_chain3,erc20:erc20});case 12:response=_context5.sent;data=response===null||response===void 0?void 0:response.data;_context5.next=19;break;case 16:_context5.prev=16;_context5.t0=_context5[\"catch\"](2);data=(_context5.t0===null||_context5.t0===void 0?void 0:(_err$response=_context5.t0.response)===null||_err$response===void 0?void 0:_err$response.data)||_context5.t0;case 19:ifCaptchaFailed(data);setSendTokenResponse({txHash:(_data=data)===null||_data===void 0?void 0:_data.txHash,message:(_data2=data)===null||_data2===void 0?void 0:_data2.message});setIsLoading(false);case 22:case\"end\":return _context5.stop();}}},_callee5,null,[[2,16]]);}));return _sendToken.apply(this,arguments);}var getOptionByValue=function getOptionByValue(value){var selectedOption=options[0];options.forEach(function(option){if(option.value==value){selectedOption=option;}});return selectedOption;};var getTokenOptionByValue=function getTokenOptionByValue(value){var selectedOption=tokenOptions[0];tokenOptions.forEach(function(option){if(option.value==value){selectedOption=option;}});return selectedOption;};var customStyles={control:function control(base,state){return _objectSpread(_objectSpread({},base),{},{background:\"#333\",borderRadius:state.isFocused?\"5px 5px 0 0\":5,borderColor:state.isFocused?\"white\":\"#333\",boxShadow:null,\"&:hover\":{borderColor:\"white\"}});},menu:function menu(base){return _objectSpread(_objectSpread({},base),{},{borderRadius:0,marginTop:0,background:\"rgb(45, 45, 45)\",color:\"white\"});},menuList:function menuList(base){return _objectSpread(_objectSpread({},base),{},{padding:0,\"::-webkit-scrollbar\":{width:\"2px\"},\"::-webkit-scrollbar-track\":{background:\"black\"},\"::-webkit-scrollbar-thumb\":{background:\"#888\"},\"::-webkit-scrollbar-thumb:hover\":{background:\"#555\"}});},option:function option(styles,_ref){var isFocused=_ref.isFocused,isSelected=_ref.isSelected;return _objectSpread(_objectSpread({},styles),{},{background:isFocused?'black':isSelected?'#333':undefined,zIndex:1});},input:function input(base){return _objectSpread(_objectSpread({},base),{},{color:\"white\"});},singleValue:function singleValue(base){return _objectSpread(_objectSpread({},base),{},{color:\"white\"});}};var ChainDropdown=function ChainDropdown(){return/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",marginTop:\"5px\"},children:/*#__PURE__*/_jsx(Select,{options:options,value:getOptionByValue(chain),onChange:updateChain,styles:customStyles,getOptionValue:function getOptionValue(option){return option.search;}})});};var TokenDropdown=function TokenDropdown(){return/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\"},children:/*#__PURE__*/_jsx(Select,{options:tokenOptions,value:getTokenOptionByValue(token),onChange:updateToken,styles:customStyles,getOptionValue:function getOptionValue(option){return option.search;}})});};var resetRecaptcha=function resetRecaptcha(){setIsV2(false);recaptcha.resetV2Captcha(widgetID);};var back=function back(){resetRecaptcha();setSendTokenResponse({txHash:null,message:null});};var toString=function toString(mins){if(mins<60){return\"\".concat(mins,\" minute\").concat(mins>1?'s':'');}else{var hour=~~(mins/60);var minute=mins%60;if(minute==0){return\"\".concat(hour,\" hour\").concat(hour>1?'s':'');}else{return\"\".concat(hour,\" hour\").concat(hour>1?'s':'',\" and \").concat(minute,\" minute\").concat(minute>1?'s':'');}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"banner\",style:{backgroundImage:\"url(\".concat(props.config.banner,\")\")}}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box-header\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{style:{color:\"grey\"},children:\"Select Network\"})}),/*#__PURE__*/_jsx(ChainDropdown,{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\"},children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:\"grey\",fontSize:\"12px\",float:\"right\"},children:[\"Faucet balance: \",calculateLargestUnit(balance,(_chainConfigs6=chainConfigs[token])===null||_chainConfigs6===void 0?void 0:_chainConfigs6.DECIMALS),\" \",(_chainConfigs7=chainConfigs[token])===null||_chainConfigs7===void 0?void 0:_chainConfigs7.TOKEN]}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"grey\",fontSize:\"12px\"},children:\"Select Token\"}),/*#__PURE__*/_jsx(TokenDropdown,{})]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:sendTokenResponse!==null&&sendTokenResponse!==void 0&&sendTokenResponse.txHash?\"none\":\"block\"},children:[/*#__PURE__*/_jsxs(\"p\",{className:\"rate-limit-text\",children:[\"Drops are limited to\",/*#__PURE__*/_jsxs(\"span\",{children:[(_chainConfigs8=chainConfigs[token])===null||_chainConfigs8===void 0?void 0:(_chainConfigs8$RATELI=_chainConfigs8.RATELIMIT)===null||_chainConfigs8$RATELI===void 0?void 0:_chainConfigs8$RATELI.MAX_LIMIT,\" request in \",toString((_chainConfigs9=chainConfigs[token])===null||_chainConfigs9===void 0?void 0:(_chainConfigs9$RATELI=_chainConfigs9.RATELIMIT)===null||_chainConfigs9$RATELI===void 0?void 0:_chainConfigs9$RATELI.WINDOW_SIZE),\".\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"address-input\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Hexadecimal Address (0x...)\",value:inputAddress||\"\",onChange:function onChange(e){return updateAddress(e.target.value);},autoFocus:true}),/*#__PURE__*/_jsxs(\"span\",{className:\"connect-metamask\",onClick:function onClick(){return connectAccount(updateAddress);},children:[/*#__PURE__*/_jsx(\"img\",{alt:\"metamask\",src:\"/memtamask.webp\"}),\"Connect\"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"rate-limit-text\",style:{color:\"red\"},children:sendTokenResponse===null||sendTokenResponse===void 0?void 0:sendTokenResponse.message}),/*#__PURE__*/_jsx(\"div\",{className:\"v2-recaptcha\",style:{marginTop:\"10px\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"beta-alert\",children:/*#__PURE__*/_jsx(\"p\",{children:\"This is a testnet faucet. Funds are not real.\"})}),/*#__PURE__*/_jsx(\"button\",{className:shouldAllowSend?'send-button':'send-button-disabled',onClick:sendToken,children:isLoading?/*#__PURE__*/_jsx(ClipLoader,{size:\"20px\",speedMultiplier:0.3,color:\"403F40\"}):/*#__PURE__*/_jsxs(\"span\",{children:[\"Request \",(_chainConfigs10=chainConfigs[token||0])===null||_chainConfigs10===void 0?void 0:_chainConfigs10.DRIP_AMOUNT,\" \",(_chainConfigs11=chainConfigs[token||0])===null||_chainConfigs11===void 0?void 0:_chainConfigs11.TOKEN]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:sendTokenResponse!==null&&sendTokenResponse!==void 0&&sendTokenResponse.txHash?\"block\":\"none\"},children:[/*#__PURE__*/_jsx(\"p\",{className:\"rate-limit-text\",children:sendTokenResponse===null||sendTokenResponse===void 0?void 0:sendTokenResponse.message}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"bold-text\",children:\"Transaction ID\"}),/*#__PURE__*/_jsx(\"p\",{className:\"rate-limit-text\",children:/*#__PURE__*/_jsx(\"a\",{target:'_blank',href:((_chainConfigs12=chainConfigs[token])===null||_chainConfigs12===void 0?void 0:_chainConfigs12.EXPLORER)+'/tx/'+(sendTokenResponse===null||sendTokenResponse===void 0?void 0:sendTokenResponse.txHash),rel:\"noreferrer\",children:sendTokenResponse===null||sendTokenResponse===void 0?void 0:sendTokenResponse.txHash})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:back,children:\"Back\"})]})]})]}),/*#__PURE__*/_jsx(FooterBox,{chain:chain,token:token,chainConfigs:chainConfigs,chainToIndex:chainToIndex,faucetAddress:faucetAddress})]});};export default FaucetForm;","map":{"version":3,"names":["useState","useEffect","ethers","ClipLoader","Select","ReCaptcha","FooterBox","queryString","connectAccount","FaucetForm","props","chain","setChain","token","setToken","Map","widgetID","setwidgetID","undefined","recaptcha","setRecaptcha","isV2","setIsV2","chainConfigs","setChainConfigs","inputAddress","setInputAddress","address","setAddress","faucetAddress","setFaucetAddress","options","setOptions","tokenOptions","setTokenOptions","balance","setBalance","shouldAllowSend","setShouldAllowSend","isLoading","setIsLoading","isFetchingBalance","setIsFetchingBalance","txHash","message","sendTokenResponse","setSendTokenResponse","config","SITE_KEY","ACTION","V2_SITE_KEY","updateChainConfigs","updateAddress","updateBalance","BigInt","calculateBaseUnit","DRIP_AMOUNT","DECIMALS","updateFaucetAddress","newOptions","forEach","i","item","NAME","IMAGE","CONTRACTADDRESS","color","fontSize","marginLeft","chainToIndex","HOSTID","push","label","value","search","getChainParams","ch","ID","TOKEN","getConfigByTokenAndNetwork","network","selectedConfig","toUpperCase","err","console","log","totalTokens","length","query","parse","window","location","subnet","erc20","tokenIndex","axios","get","api","getChainConfigs","response","data","configs","params","controller","AbortController","abort","getBalance","signal","amount","decimals","calculateLargestUnit","base","toString","id","index","addr","utils","isAddress","getCaptchaToken","getToken","v2Token","updateChain","option","chainNum","back","updateToken","tokenNum","ifCaptchaFailed","reload","includes","loadV2Captcha","sendToken","post","getOptionByValue","selectedOption","getTokenOptionByValue","customStyles","control","state","background","borderRadius","isFocused","borderColor","boxShadow","menu","marginTop","menuList","padding","width","styles","isSelected","zIndex","input","singleValue","ChainDropdown","TokenDropdown","resetRecaptcha","resetV2Captcha","mins","hour","minute","backgroundImage","banner","float","display","RATELIMIT","MAX_LIMIT","WINDOW_SIZE","e","target","EXPLORER"],"sources":["/Users/ashutosh/Desktop/avalanche-faucet/client/src/components/FaucetForm.tsx"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { ethers } from 'ethers'\nimport { ClipLoader } from \"react-spinners\"\nimport Select from 'react-select'\n\nimport './styles/FaucetForm.css'\nimport ReCaptcha from './ReCaptcha'\nimport FooterBox from './FooterBox'\nimport queryString from 'query-string'\nimport { DropdownOption } from './types'\nimport { connectAccount } from './Metamask'\nimport { AxiosResponse } from 'axios'\n\nconst FaucetForm = (props: any) => {\n    const [chain, setChain] = useState<number | null>(null)\n    const [token, setToken] = useState<number | null>(null)\n    const [widgetID, setwidgetID] = useState(new Map())\n    const [recaptcha, setRecaptcha] = useState<ReCaptcha | undefined>(undefined)\n    const [isV2, setIsV2] = useState<boolean>(false)\n    const [chainConfigs, setChainConfigs] = useState<any>([])\n    const [inputAddress, setInputAddress] = useState<string>(\"\")\n    const [address, setAddress] = useState<string | null>(null)\n    const [faucetAddress, setFaucetAddress] = useState<string | null>(null)\n    const [options, setOptions] = useState<DropdownOption[]>([])\n    const [tokenOptions, setTokenOptions] = useState<DropdownOption[]>([]);\n    const [balance, setBalance] = useState<string>(\"0\")\n    const [shouldAllowSend, setShouldAllowSend] = useState<boolean>(false)\n    const [isLoading, setIsLoading] = useState<boolean>(false)\n    const [isFetchingBalance, setIsFetchingBalance] = useState<AbortController | null>(null)\n    const [sendTokenResponse, setSendTokenResponse] = useState<any>({\n        txHash: null,\n        message: null\n    })\n\n    // Update chain configs\n    useEffect(() => {\n        setRecaptcha(new ReCaptcha(\n            props.config.SITE_KEY,\n            props.config.ACTION,\n            props.config.V2_SITE_KEY,\n            setwidgetID\n        ))\n        updateChainConfigs()\n        connectAccount(updateAddress, false)\n\n    }, [])\n\n    // Update balance whenver chain changes or after transaction is processed\n    useEffect(() => {\n        updateBalance()\n    }, [chain, token, sendTokenResponse, chainConfigs])\n\n    // Make REQUEST button disabled if either address is not valid or balance is low\n    useEffect(() => {\n        if(address) {\n            if(BigInt(balance) > calculateBaseUnit(chainConfigs[token!]?.DRIP_AMOUNT, chainConfigs[token!]?.DECIMALS)) {\n                setShouldAllowSend(true)\n                return\n            }\n        }\n        \n        setShouldAllowSend(false)\n    }, [address, balance])\n\n    useEffect(() => {\n        updateFaucetAddress()\n    }, [chain, chainConfigs])\n\n    useEffect(() => {\n        let newOptions: DropdownOption[] = []\n        \n        chainConfigs?.forEach((chain: any, i: number) => {\n            let item = <div className='select-dropdown'>\n                <img alt = { chain.NAME[0] } src = { chain.IMAGE } />\n                { chain.NAME }\n\n                {\n                    chain.CONTRACTADDRESS &&\n                    <span style={{color: 'rgb(180, 180, 183)', fontSize: \"10px\", marginLeft: \"5px\"}}>\n                        {\n                            chainConfigs[chainToIndex(chain.HOSTID) || 0]?.NAME\n                        }\n                    </span>\n                }\n            </div>\n\n            if(!chain.CONTRACTADDRESS) {\n                newOptions.push({\n                    label: item,\n                    value: i,\n                    search: chain.NAME\n                })\n            }\n        })\n        \n        setOptions(newOptions)\n        setChain(newOptions[0]?.value)\n    }, [chainConfigs])\n\n    useEffect(() => {\n        let newOptions: DropdownOption[] = []\n        \n        chainConfigs?.forEach((chain: any, i: number) => {\n            const { chain: ch } = getChainParams();\n\n            let item = <div className='select-dropdown'>\n                <img alt = { chain.NAME[0] } src = { chain.IMAGE } />\n                { chain.ID == ch ? chain.TOKEN : chain.NAME }\n\n                <span style={{color: 'rgb(180, 180, 183)', fontSize: \"10px\", marginLeft: \"5px\"}}>\n                    {\n                        chain.CONTRACTADDRESS ?\n                        \"ERC20\" :\n                        \"Native\"\n                    }\n                </span>\n            </div>\n\n            if((chain.CONTRACTADDRESS && chain.HOSTID == ch) || chain.ID == ch) {\n                newOptions.push({\n                    label: item,\n                    value: i,\n                    search: chain.NAME\n                })\n            }\n        })\n\n        setTokenOptions(newOptions)\n        setToken(newOptions[0]?.value)\n    }, [chainConfigs, chain])\n\n    const getConfigByTokenAndNetwork = (token: any, network: any): number => {\n        let selectedConfig = 0;\n\n        try {\n            token = token?.toUpperCase();\n            network = network?.toUpperCase();\n            \n            chainConfigs.forEach((chain: any, i: number): any => {\n                if(chain.TOKEN == token && chain.HOSTID == network) {\n                    selectedConfig = i;\n                }\n            })\n        } catch(err: any) {\n            console.log(err)\n        }\n\n        return selectedConfig;\n    }\n\n    let totalTokens: boolean = tokenOptions?.length === 0;\n\n    useEffect(() => {\n        const query = queryString.parse(window.location.search)\n        \n        const { address, subnet, erc20 } = query\n\n        const tokenIndex: number = getConfigByTokenAndNetwork(erc20, subnet)\n        \n        if(typeof address == \"string\") {\n            updateAddress(address)\n        }\n\n        if(typeof subnet == \"string\") {\n            setChain(chainToIndex(subnet))\n            if(typeof erc20 == \"string\") {\n                setToken(tokenIndex)\n            }\n        } else {\n            setChain(0)\n        }\n    }, [window.location.search, options, totalTokens])\n\n    // API calls\n    async function updateChainConfigs(): Promise<void> {\n        const response: AxiosResponse = await props.axios.get(\n            props.config.api.getChainConfigs\n        )\n        setChainConfigs(response?.data?.configs)\n    }\n\n    function getChainParams(): {chain: string, erc20: string} {\n        let params = {\n            chain: chainConfigs[chain!]?.ID,\n            erc20: chainConfigs[token!]?.ID\n        }\n\n        return params\n    }\n\n    async function updateBalance(): Promise<void> {\n        // Abort pending requests\n        const controller = new AbortController();\n        if(isFetchingBalance) {\n            isFetchingBalance.abort()\n        }\n        setIsFetchingBalance(controller)\n\n        if((chain || chain == 0) && chainConfigs.length > 0) {\n            let { chain, erc20 } = getChainParams()\n            \n            const response: AxiosResponse = await props.axios.get(props.config.api.getBalance, {\n                params: {\n                    chain,\n                    erc20\n                },\n                signal: controller.signal\n            })\n        \n            if(response?.data?.balance || response?.data?.balance == 0) {\n                setBalance(response?.data?.balance)\n            }\n        }\n    }\n\n    async function updateFaucetAddress(): Promise<void> {\n        if((chain || chain == 0) && chainConfigs.length > 0) {\n            let { chain } = getChainParams()\n            \n            const response: AxiosResponse = await props.axios.get(props.config.api.faucetAddress, {\n                params: {\n                    chain\n                }\n            })\n            \n            if(response?.data) {\n                setFaucetAddress(response?.data?.address)\n            }\n        }\n    }\n\n    function calculateBaseUnit(amount: string = \"0\", decimals: number = 18): BigInt {\n        for(let i = 0; i < decimals; i++) {\n            amount += \"0\"\n        }\n        return BigInt(amount)\n    }\n\n    function calculateLargestUnit(amount: string = \"0\", decimals: number = 18): string {\n        let base = \"1\"\n        for(let i = 0; i < decimals; i++) {\n            base += \"0\"\n        }\n        return (BigInt(amount) / BigInt(base)).toString()\n    }\n\n    function chainToIndex(id: any): number | null {\n        if(chainConfigs?.length > 0) {\n            if(typeof id == \"string\") {\n                id = id.toUpperCase()\n            }\n            let index: number = 0\n            chainConfigs.forEach((chain: any, i: number) => {\n                if(id == chain.ID) {\n                    index = i\n                }\n            })\n            return index\n        } else {\n            return null\n        }\n    }\n\n    function updateAddress(addr: any): void {\n        setInputAddress(addr!)\n        \n        if (addr) {\n            if (ethers.utils.isAddress(addr)) {\n                setAddress(addr)\n            } else {\n                setAddress(null)\n            }\n        } else if (address != null) {\n            setAddress(null)\n        }\n    }\n\n    async function getCaptchaToken(index: number = 0): Promise<{token?:string, v2Token?: string}> {\n        const { token, v2Token } = await recaptcha!.getToken(isV2, widgetID, index)\n        return { token, v2Token }\n    }\n\n    function updateChain(option: any): void {\n        let chainNum: number = option.value\n        \n        if(chainNum >= 0 &&  chainNum < chainConfigs.length) {\n            setChain(chainNum)\n            back()\n        }\n    }\n\n    function updateToken(option: any): void {\n        let tokenNum: number = option.value\n        \n        if(tokenNum >= 0 &&  tokenNum < chainConfigs.length) {\n            setToken(tokenNum)\n            back()\n        }\n    }\n\n    const ifCaptchaFailed = (data: any, index: number = 0, reload: boolean = false) => {\n        if(typeof data?.message == \"string\") {\n            if(data.message.includes(\"Captcha verification failed\")) {\n                setIsV2(true)\n                recaptcha?.loadV2Captcha(props.config.V2_SITE_KEY, widgetID, index, reload);\n            }\n        }\n    }\n\n    async function sendToken(): Promise<void> {\n        if(!shouldAllowSend) {\n            return\n        } \n        let data: any\n        try {\n            setIsLoading(true)\n\n            const { token, v2Token } = await getCaptchaToken()\n\n            let { chain, erc20 } = getChainParams()\n\n            const response = await props.axios.post(props.config.api.sendToken, {\n                address,\n                token,\n                v2Token,\n                chain,\n                erc20\n            })\n            data = response?.data\n        } catch(err: any) {\n            data = err?.response?.data || err\n        }\n\n        ifCaptchaFailed(data)\n\n        setSendTokenResponse({\n            txHash: data?.txHash,\n            message: data?.message\n        })\n\n        setIsLoading(false)\n    }\n\n    const getOptionByValue = (value: any): DropdownOption => {\n        let selectedOption: DropdownOption = options[0]\n        options.forEach((option: DropdownOption): void => {\n            if(option.value == value) {\n                selectedOption = option\n            }\n        })\n        return selectedOption\n    }\n\n    const getTokenOptionByValue = (value: any): DropdownOption => {\n        let selectedOption: DropdownOption = tokenOptions[0]\n        tokenOptions.forEach((option: DropdownOption): void => {\n            if(option.value == value) {\n                selectedOption = option\n            }\n        })\n        return selectedOption\n    }\n\n    const customStyles = {\n        control: (base: any, state: { isFocused: any }) => ({\n            ...base,\n            background: \"#333\",\n            borderRadius: state.isFocused ? \"5px 5px 0 0\" : 5,\n            borderColor: state.isFocused ? \"white\" : \"#333\",\n            boxShadow: null,\n            \"&:hover\": {\n                borderColor: \"white\"\n            }\n        }),\n        menu: (base: any) => ({\n            ...base,\n            borderRadius: 0,\n            marginTop: 0,\n            background: \"rgb(45, 45, 45)\",\n            color: \"white\"\n        }),\n        menuList: (base: any) => ({\n            ...base,\n            padding: 0,\n            \"::-webkit-scrollbar\": {\n                width: \"2px\"\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"black\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#888\"\n            },\n            \"::-webkit-scrollbar-thumb:hover\": {\n                background: \"#555\"\n            }\n        }),\n        option: (styles: any, {isFocused, isSelected}: any) => ({\n            ...styles,\n            background: isFocused\n                    ?\n                    'black'\n                    :\n                    isSelected\n                    ?\n                    '#333'\n                    :\n                    undefined,\n            zIndex: 1\n        }),\n        input: (base: any) => ({\n            ...base,\n            color: \"white\"\n        }),\n        singleValue: (base: any) => ({\n            ...base,\n            color: \"white\"\n        })\n    }\n\n    const ChainDropdown = () => (\n        <div style={{width: \"100%\", marginTop: \"5px\"}}>\n            <Select\n                options={options}\n                value={getOptionByValue(chain)}\n                onChange={updateChain}\n                styles={customStyles}\n                getOptionValue ={(option: any)=>option.search}\n            />\n        </div>\n    )\n\n    const TokenDropdown = () => (\n        <div style={{width: \"100%\"}}>\n            <Select\n                options={tokenOptions}\n                value={getTokenOptionByValue(token)}\n                onChange={updateToken}\n                styles={customStyles}\n                getOptionValue ={(option: any)=>option.search}\n            />\n        </div>\n    )\n\n    const resetRecaptcha = (): void => {\n        setIsV2(false)\n        recaptcha!.resetV2Captcha(widgetID)\n    }\n\n    const back = (): void => {\n        resetRecaptcha()\n        setSendTokenResponse({\n            txHash: null,\n            message: null\n        })\n    }\n\n    const toString = (mins: number): string => {\n        if(mins < 60) {\n            return `${mins} minute${mins > 1 ? 's' : ''}`\n        } else {\n            const hour = ~~(mins / 60)\n            const minute = mins % 60\n\n            if(minute == 0) {\n                return `${hour} hour${hour > 1 ? 's' : ''}`\n            } else {\n                return `${hour} hour${hour > 1 ? 's' : ''} and ${minute} minute${minute > 1 ? 's' : ''}`\n            }\n        }\n    }\n\n    return (\n        <div className='container'>\n            <div className = \"box\">\n                <div className='banner' style={{backgroundImage: `url(${props.config.banner})`}}/>\n\n                <div className='box-content'>\n                    <div className='box-header'>\n                        <span>\n                            <span style={{color: \"grey\"}}>Select Network</span>\n                        </span>\n\n                        <ChainDropdown /> <br/>\n\n                        <div>\n                            <div style={{width: \"100%\"}}>\n                                <span style={{color: \"grey\", fontSize: \"12px\", float: \"right\"}}>\n                                    Faucet balance: {calculateLargestUnit(balance, chainConfigs[token!]?.DECIMALS)} {chainConfigs[token!]?.TOKEN}\n                                </span>\n\n                                <span style={{color: \"grey\", fontSize: \"12px\"}}>\n                                    Select Token\n                                </span>\n\n                                <TokenDropdown/>\n                            </div>\n                        </div>\n                    </div>\n\n                    <br/>\n\n                    <div style={{ display: sendTokenResponse?.txHash ? \"none\" : \"block\" }}>\n                        <p className='rate-limit-text'>\n                            Drops are limited to \n                            <span>\n                                {chainConfigs[token!]?.RATELIMIT?.MAX_LIMIT} request in {toString(chainConfigs[token!]?.RATELIMIT?.WINDOW_SIZE)}.\n                            </span>\n                        </p>\n\n                        <div className='address-input'>\n                            <input\n                                placeholder='Hexadecimal Address (0x...)'\n                                value={inputAddress || \"\"}\n                                onChange={(e) => updateAddress(e.target.value)}\n                                autoFocus\n                            />\n\n                            <span className='connect-metamask' onClick={ () => connectAccount(updateAddress) }>\n                                <img alt='metamask' src=\"/memtamask.webp\"/>\n                                Connect\n                            </span>\n                        </div>\n                        <span className='rate-limit-text' style={{color: \"red\"}}>{sendTokenResponse?.message}</span>\n\n                        <div className='v2-recaptcha' style={{marginTop: \"10px\"}}></div>\n                        \n                        <div className=\"beta-alert\">\n                            <p>This is a testnet faucet. Funds are not real.</p>\n                        </div>\n                    \n                        <button className={shouldAllowSend ? 'send-button' : 'send-button-disabled'} onClick={sendToken}>\n                            {\n                                isLoading\n                                ?\n                                <ClipLoader size=\"20px\" speedMultiplier={0.3} color=\"403F40\"/>\n                                :\n                                <span>Request {chainConfigs[token || 0]?.DRIP_AMOUNT} {chainConfigs[token || 0]?.TOKEN}</span>\n                            }\n                        </button>\n                    </div>\n                    \n                    <div style={{ display: sendTokenResponse?.txHash ? \"block\" : \"none\" }}>\n                        <p className='rate-limit-text'>\n                            {sendTokenResponse?.message}\n                        </p>\n\n                        <div>\n                            <span className='bold-text'>Transaction ID</span>\n                            <p className='rate-limit-text'>\n                                <a\n                                    target = {'_blank'}\n                                    href = {chainConfigs[token!]?.EXPLORER + '/tx/' + sendTokenResponse?.txHash}\n                                    rel = \"noreferrer\"\n                                >\n                                    {sendTokenResponse?.txHash}\n                                </a>\n                            </p>\n                        </div>\n\n                        <button className='back-button' onClick={back}>Back</button>\n                    </div>\n                </div>\n            </div>\n\n            <FooterBox\n                chain = {chain}\n                token = {token}\n                chainConfigs = {chainConfigs}\n                chainToIndex = {chainToIndex}\n                faucetAddress = {faucetAddress}\n            />\n        </div>\n\n\n    )\n}\n\nexport default FaucetForm"],"mappings":"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"},"metadata":{},"sourceType":"module"}